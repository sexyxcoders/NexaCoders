<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Encode & Decode Tool</title>

<style>
/* ------------------ BASE ------------------ */
body {
  margin: 0;
  font-family: Inter, system-ui, sans-serif;
  background: #f5f7fa;
  color: #111;
}

header {
  background: #1a73e8;
  padding: 16px 20px;
  color: #fff;
  font-size: 20px;
  font-weight: 600;
  text-align: center;
}

/* ------------------ WRAPPER ------------------ */
.container {
  padding: 16px;
  padding-bottom: 120px;
}

.card {
  background: #fff;
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 1px 5px rgba(0,0,0,0.08);
  margin-bottom: 16px;
}

/* ------------------ MODE SWITCH ------------------ */
.mode-switch {
  display: flex;
  gap: 10px;
}

.mode-btn {
  flex: 1;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid #d0d7de;
  background: #fff;
  cursor: pointer;
  font-size: 14px;
}

.mode-btn.active {
  background: #1a73e8;
  color: #fff;
  border-color: #1a73e8;
}

/* ------------------ TABS ------------------ */
.tabs {
  display: flex;
  overflow-x: auto;
  gap: 10px;
  padding-top: 12px;
}

.tab-btn {
  padding: 10px 14px;
  background: #e9eef3;
  border-radius: 20px;
  border: none;
  white-space: nowrap;
}

.tab-btn.active {
  background: #1a73e8;
  color: #fff;
}

/* ------------------ TEXTAREAS ------------------ */
textarea {
  width: 100%;
  min-height: 160px;
  border-radius: 10px;
  border: 1px solid #d0d7de;
  padding: 12px;
  font-size: 14px;
  box-sizing: border-box;
}

/* ------------------ BUTTONS ------------------ */
.btn {
  padding: 12px;
  border-radius: 8px;
  border: none;
  background: #1a73e8;
  color: #fff;
  font-weight: 600;
  width: 100%;
  margin-top: 12px;
  font-size: 15px;
}

.btn.secondary {
  background: #e4e7eb;
  color: #333;
  font-weight: 500;
}

/* ------------------ BOTTOM NAV ------------------ */
.bottom-nav {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  background: #fff;
  border-top: 1px solid #d8d8d8;
  display: flex;
  justify-content: space-around;
  padding: 12px 0;
}

.bottom-nav button {
  background: none;
  border: none;
  color: #1a73e8;
  font-size: 15px;
  font-weight: 600;
}

/* ------------------ TOAST ------------------ */
.toast {
  position: fixed;
  bottom: 100px;
  left: 50%;
  transform: translateX(-50%);
  background: #111;
  color: #fff;
  padding: 12px 18px;
  border-radius: 8px;
  opacity: 0;
  transition: 0.3s ease;
}

.toast.show {
  opacity: 1;
}
</style>
</head>

<body>

<header>Encode & Decode</header>

<div class="container">

  <div class="card">
    <!-- Mode Switch -->
    <div class="mode-switch">
      <button id="modeEncode" class="mode-btn active">Encode</button>
      <button id="modeDecode" class="mode-btn">Decode</button>
    </div>

    <!-- Encoder Tabs -->
    <div class="tabs">
      <button class="tab-btn active" data-method="base64">Base64</button>
      <button class="tab-btn" data-method="url">URL</button>
      <button class="tab-btn" data-method="hex">Hex</button>
      <button class="tab-btn" data-method="rot13">ROT13</button>
      <button class="tab-btn" data-method="utf8">UTF-8</button>
      <button class="tab-btn" data-method="special">Special ID</button>
    </div>
  </div>

  <!-- Input Box -->
  <div class="card">
    <label style="font-weight:600;">Input</label>
    <textarea id="input" placeholder="Enter your text here..."></textarea>
    <button id="run" class="btn">Run</button>
  </div>

  <!-- Output Box -->
  <div class="card">
    <label style="font-weight:600;">Output</label>
    <textarea id="output" placeholder="Output will appear here..." readonly></textarea>

    <button id="copyOut" class="btn secondary">Copy</button>
    <button id="downloadOut" class="btn secondary">Download</button>
    <button id="shareOut" class="btn secondary">Share</button>
  </div>

</div>

<!-- FIXED BOTTOM NAV -->
<div class="bottom-nav">
  <button id="clearAll">Clear</button>
  <button id="swapBtn">Swap</button>
  <button id="exampleBtn">Example</button>
</div>

<div id="toast" class="toast"></div>

<script>
/* ------------------ ENCODER FUNCTIONS ------------------ */

function encodeBase64(t){return btoa(unescape(encodeURIComponent(t))); }
function decodeBase64(t){return decodeURIComponent(escape(atob(t))); }

function encodeURL(t){ return encodeURIComponent(t); }
function decodeURL(t){ return decodeURIComponent(t); }

function encodeHex(t){
  return [...t].map(c=>c.charCodeAt(0).toString(16).padStart(2,'0')).join('');
}
function decodeHex(t){
  return t.match(/.{1,2}/g).map(h=>String.fromCharCode(parseInt(h,16))).join('');
}

function rot13(t){
  return t.replace(/[a-zA-Z]/g, c =>
    String.fromCharCode(
      (c<="Z"?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26
    )
  );
}

function encodeUTF8(t){ return new TextEncoder().encode(t).join(" "); }
function decodeUTF8(t){
  return new TextDecoder().decode(new Uint8Array(t.split(" ").map(Number)));
}

function encodeSpecial(t){
  let letters="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
  let out=t.split("").map(ch=>{
    let r="", bold=false, small=false, big=false;
    for(let i=0;i<4;i++){
      let x=letters[Math.floor(Math.random()*letters.length)];
      if(i===0) bold=true;
      if(i===1) small=true;
      if(i===2) big=true;
      r += bold?("**"+x+"**"): small?("<small>"+x+"</small>"): big?("<big>"+x+"</big>"): x;
    }
    return ch + "[" + r + "]";
  }).join("");
  return out;
}
function decodeSpecial(t){ return t.replace(/\[[\s\S]*?\]/g,""); }

/* ------------------ HANDLERS ------------------ */

let currentMode="encode";
let method="base64";

document.querySelectorAll(".mode-btn").forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll(".mode-btn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    currentMode = btn.id==="modeEncode" ? "encode":"decode";
  };
});

document.querySelectorAll(".tab-btn").forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    method = btn.dataset.method;
  };
});

function toast(msg){
  let t=document.getElementById("toast");
  t.textContent=msg;
  t.classList.add("show");
  setTimeout(()=>t.classList.remove("show"),1500);
}

document.getElementById("run").onclick=()=>{
  let input=document.getElementById("input").value;
  let out="";

  try {
    if(method==="base64") out=currentMode==="encode"?encodeBase64(input):decodeBase64(input);
    if(method==="url") out=currentMode==="encode"?encodeURL(input):decodeURL(input);
    if(method==="hex") out=currentMode==="encode"?encodeHex(input):decodeHex(input);
    if(method==="rot13") out=rot13(input);
    if(method==="utf8") out=currentMode==="encode"?encodeUTF8(input):decodeUTF8(input);
    if(method==="special") out=currentMode==="encode"?encodeSpecial(input):decodeSpecial(input);
  }
  catch(e){ out="Error: Invalid input"; }

  document.getElementById("output").value=out;
};

document.getElementById("copyOut").onclick=()=>{
  navigator.clipboard.writeText(document.getElementById("output").value);
  toast("Copied");
};

document.getElementById("downloadOut").onclick=()=>{
  let blob=new Blob([document.getElementById("output").value], {type:"text/plain"});
  let a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="output.txt";
  a.click();
};

document.getElementById("shareOut").onclick=()=>{
  if(navigator.share){
    navigator.share({text:document.getElementById("output").value});
  } else {
    toast("Sharing not supported");
  }
};

document.getElementById("swapBtn").onclick=()=>{
  let i=document.getElementById("input");
  let o=document.getElementById("output");
  let temp=i.value;
  i.value=o.value;
  o.value=temp;
};

document.getElementById("clearAll").onclick=()=>{
  document.getElementById("input").value="";
  document.getElementById("output").value="";
  toast("Cleared");
};

document.getElementById("exampleBtn").onclick=()=>{
  document.getElementById("input").value="Hello World";
  toast("Example inserted");
};
</script>

</body>
</html>